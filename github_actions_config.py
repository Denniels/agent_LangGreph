# Configuraci√≥n de GitHub Actions para URL Automation
# ===================================================

# Configuraci√≥n del sistema de URLs autom√°ticas para GitHub Actions
GITHUB_ACTIONS_CONFIG = {
    # Intervalo de ejecuci√≥n (en minutos)
    "check_interval_minutes": 5,
    
    # Configuraci√≥n de commits autom√°ticos
    "auto_commit": True,
    "auto_push": True,
    "commit_author_name": "Cloudflare URL Auto-Update",
    "commit_author_email": "action@github.com",
    
    # Configuraci√≥n de notificaciones
    "notifications_enabled": True,
    "slack_notifications": False,  # Cambiar a True y agregar SLACK_WEBHOOK_URL a secrets
    "discord_notifications": False,  # Cambiar a True y agregar DISCORD_WEBHOOK_URL a secrets
    
    # Configuraci√≥n de validaci√≥n
    "validate_new_url": True,
    "validation_timeout": 30,
    "max_retries": 3,
    
    # Configuraci√≥n de archivos
    "backup_enabled": True,
    "exclude_files": [
        ".git/*",
        "node_modules/*",
        "__pycache__/*",
        "*.pyc",
        ".github/workflows/*"  # No tocar otros workflows
    ]
}

# URLs de endpoints cr√≠ticos
CRITICAL_ENDPOINTS = [
    "/health",
    "/cf_url", 
    "/data"
]

# Configuraci√≥n de monitoreo
MONITORING_CONFIG = {
    "health_check_timeout": 15,
    "max_consecutive_failures": 3,
    "fallback_urls_minimum": 2
}

# Plantillas de mensajes
COMMIT_MESSAGE_TEMPLATE = """üîÑ Auto-update Cloudflare URL to {new_url}

- Detected URL change via automated monitoring
- Updated all references automatically  
- Previous URL: {old_url}
- New URL: {new_url}
- Files updated: {files_count}
- Triggered at {timestamp}
- Auto-generated by GitHub Actions

[skip ci] # Skip CI para evitar loops infinitos"""

NOTIFICATION_MESSAGE_TEMPLATE = """üîÑ **Cloudflare URL Update**

üìä **Summary:**
‚Ä¢ Previous URL: `{old_url}`
‚Ä¢ New URL: `{new_url}`
‚Ä¢ Files updated: {files_count}
‚Ä¢ Timestamp: {timestamp}

‚úÖ All systems updated automatically
üöÄ Streamlit Cloud will redeploy automatically"""

# Configuraci√≥n de seguridad
SECURITY_CONFIG = {
    "validate_url_format": True,
    "allowed_domains": [
        "trycloudflare.com",
        "ngrok.io",  # Si decides usar ngrok en el futuro
        # Agregar otros dominios permitidos aqu√≠
    ],
    "require_https": True,
    "check_ssl_cert": False  # Cloudflare tunnels usan certificados din√°micos
}